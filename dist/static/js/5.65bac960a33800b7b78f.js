webpackJsonp([5],{560:function(i,e,t){function n(i){t(605)}var s=t(10)(t(586),t(618),n,"data-v-4b8ff140",null);i.exports=s.exports},571:function(i,e,t){"use strict";function n(){var i=A()({},u.c,{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:1,g_tk:5381,outCharset:"utf-8",platform:"yqq",needNewCode:0});return t.i(d.a)("https://c.y.qq.com/v8/fcg-bin/v8.fcg",i,u.d)}function s(){return f.a.get("/api/getWYSingerListProxy").then(function(i){return l.a.resolve(i.data)}).catch(function(i){console.log("获取网易热门歌手数据出错",i)})}function a(i){var e=A()({},u.c,{g_tk:5381,outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0,singermid:i,order:"listen",begin:0,num:100,songstatus:1});return t.i(d.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",e,u.d)}function r(i){var e={id:i};return f.a.get("/api/getWYSingerDetailProxy",{params:e}).then(function(i){return l.a.resolve(i.data)}).catch(function(i){console.log("获取网易歌手详情数据出错",i)})}e.c=n,e.d=s,e.a=a,e.b=r;var o=t(66),l=t.n(o),c=t(89),A=t.n(c),d=t(195),p=t(126),f=t.n(p),u=t(64)},576:function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(65),s=t.n(n),a=t(197),r=t(196),o=t.n(r);e.default={created:function(){this.touch={},this.classifiedHeight=[],this.listenScroll=!0,this.probeType=3},props:{data:{type:Array,default:[]}},data:function(){return{scrollY:-1,currentIndex:0}},components:{Scroll:s.a,Loading:o.a},computed:{singerInitials:function(){return this.data.map(function(i){return i.title.substr(0,1)})},classifiedFixedTitle:function(){return this.data[this.currentIndex]?this.data[this.currentIndex].title:""}},methods:{refresh:function(){this.$refs.listview.refresh()},toInitialsSingers:function(i){var e=t.i(a.c)(i.target,"index"),n=i.touches[0];this.touch.pageY1=n.pageY,this.touch.startindex=parseInt(e),this._scrollTo(e)},moveToInitialsSingers:function(i){var e=i.touches[0];this.touch.pageY2=e.pageY;var t=parseInt((this.touch.pageY2-this.touch.pageY1)/16|0),n=this.touch.startindex+t;this._scrollTo(n)},_scrollTo:function(i){var e=parseInt(i);0===e||e<0?(this.scrollY=0,e=0):e>this.classifiedHeight.length-1?(e=this.classifiedHeight.length-1,this.scrollY=-this.classifiedHeight[e-1]):this.scrollY=-this.classifiedHeight[e-1],this.$refs.listview.scrollToElement(this.$refs.includeClassified[e],0)},_computHeight:function(){for(var i=this.$refs.includeClassified,e=0,t=0;t<i.length;t++)e+=i[t].clientHeight,this.classifiedHeight.push(e)},scroll:function(i){this.scrollY=i.y},chooseItem:function(i){this.$emit("choose",i)}},watch:{data:function(){var i=this;setTimeout(function(){i._computHeight()},20)},scrollY:function(i){var e=this.classifiedHeight;if(i>0||0===i||-i<e[0])return void(this.currentIndex=0);for(var t=0;t<e.length-1;t++){var n=e[t],s=e[t+1];if(-i>=n&&-i<s)return void(this.currentIndex=t+1)}this.currentIndex=e.length}}}},586:function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(38),s=t.n(n),a=t(571),r=t(64),o=t(201),l=t(612),c=t.n(l),A=t(88),d=t(33);e.default={mixins:[A.c],name:"singer",data:function(){return{optimizedSingerList:[]}},methods:s()({handlePlayList:function(i){var e=i.length>0?"60px":"";this.$refs.singer.style.bottom=e,this.$refs.singerListView.refresh()},chooseSinger:function(i){this.$router.push({path:"/singer/"+i.mid}),this.setSinger(i)},_getQQSingerList:function(){var i=this;t.i(a.c)().then(function(e){e.code===r.a?i.optimizedSingerList=i.optimizeQQSingerList(e.data.list):(console.log("res.code不为0，getQQSingerList出错"),alert("获取QQ歌手数据异常，请刷新重试或联系本人"))}).catch(function(i){alert("获取QQ歌手数据出错了,请刷新重试或者联系本人",i)})},_getWYSingerList:function(){var i=this;t.i(a.d)().then(function(e){e.code===r.b?i.optimizedSingerList=i.optimizeWYSingerList(e.artists):(console.log("res.code不为0，getWYSingerList出错"),alert("获取网易歌手数据异常，请刷新重试或联系本人"))}).catch(function(i){console.log("获取网易歌手数据出错了,请刷新重试或者联系本人",i)})},optimizeQQSingerList:function(i){var e={hot:{title:"热门",items:[]}};i.forEach(function(i,t){t<10&&e.hot.items.push(new o.a({name:i.Fsinger_name,mid:i.Fsinger_mid}));var n=i.Findex;e[n]||(e[n]={title:n,items:[]}),e[n].items.push(new o.a({name:i.Fsinger_name,mid:i.Fsinger_mid}))});var t=[],n=[];for(var s in e){var a=e[s];"热门"===a.title?t.push(a):a.title.match(/[a-zA-Z]/)&&n.push(a)}return n.sort(function(i,e){return i.title.charCodeAt(0)-e.title.charCodeAt(0)}),t.concat(n)},optimizeWYSingerList:function(i){var e={hot:{title:"热门",items:[]}};i.forEach(function(i,t){e.hot.items.push(new o.b({name:i.name,id:i.id,picUrl:i.picUrl}))});var t=[];for(var n in e){var s=e[n];"热门"===s.title&&t.push(s)}return t}},t.i(d.b)({setSinger:"SET_SINGER"})),computed:s()({},t.i(d.a)(["musicSourceData"])),created:function(){"1"===this.musicSourceData&&this._getQQSingerList(),"2"===this.musicSourceData&&this._getWYSingerList()},components:{Listview:c.a}}},592:function(i,e,t){e=i.exports=t(549)(!0),e.push([i.i,".list-view[data-v-36e82cfb]{height:100%;overflow:hidden;position:relative}.list-view .singers-wrapper[data-v-36e82cfb]{position:relative;width:100%;overflow:hidden}.list-view .singers-wrapper .classified-title[data-v-36e82cfb]{color:hsla(0,0%,100%,.5);background-color:#174;padding-left:20px;line-height:30px;height:30px;font-size:12px}.list-view .singers-wrapper .under-classified-wrapper .under-classified-item[data-v-36e82cfb]{padding:15px 0 15px 30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.list-view .singers-wrapper .under-classified-wrapper .under-classified-item .avatar[data-v-36e82cfb]{width:50px;height:50px;border-radius:50%}.list-view .singers-wrapper .under-classified-wrapper .under-classified-item span[data-v-36e82cfb]{color:hsla(0,0%,100%,.5);font-size:14px;margin-left:20px}.list-view .initials-navigation[data-v-36e82cfb]{position:absolute;top:0;right:0;padding:5px 2px;background-color:rgba(0,0,0,.3);z-index:9}.list-view .initials-navigation li[data-v-36e82cfb]{height:14px;line-height:14px;padding:1px 3px;font-size:10px;color:hsla(0,0%,100%,.5)}.list-view .initials-navigation li.showcurrent[data-v-36e82cfb]{color:#ffcd32}.list-view .classified-fixed-title[data-v-36e82cfb]{position:fixed;top:90px;left:0;width:100%;padding-left:20px;background-color:#174;color:#ffcd32;line-height:30px;height:30px;font-size:12px}.list-view .loading-wrapper[data-v-36e82cfb]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}","",{version:3,sources:["C:/vue-music/vue-music/src/base/listview/listview.vue"],names:[],mappings:"AACA,4BACE,YAAa,AACb,gBAAiB,AACjB,iBAAmB,CACpB,AACD,6CACE,kBAAmB,AACnB,WAAY,AACZ,eAAiB,CAClB,AACD,+DACE,yBAA6B,AAC7B,sBAAuB,AACvB,kBAAmB,AACnB,iBAAkB,AAClB,YAAa,AACb,cAAgB,CACjB,AACD,8FACE,yBAA0B,AAC1B,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,sGACE,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AACD,mGACE,yBAA6B,AAC7B,eAAgB,AAChB,gBAAkB,CACnB,AACD,iDACE,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,gBAAiB,AACjB,gCAAkC,AAClC,SAAW,CACZ,AACD,oDACE,YAAa,AACb,iBAAkB,AAClB,gBAAiB,AACjB,eAAgB,AAChB,wBAA6B,CAC9B,AACD,gEACE,aAAe,CAChB,AACD,oDACE,eAAgB,AAChB,SAAU,AACV,OAAQ,AACR,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,cAAe,AACf,iBAAkB,AAClB,YAAa,AACb,cAAgB,CACjB,AACD,6CACE,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,uCAAyC,AACjC,8BAAiC,CAC1C",file:"listview.vue",sourcesContent:["\n.list-view[data-v-36e82cfb] {\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.list-view .singers-wrapper[data-v-36e82cfb] {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n.list-view .singers-wrapper .classified-title[data-v-36e82cfb] {\n  color: rgba(255,255,255,0.5);\n  background-color: #174;\n  padding-left: 20px;\n  line-height: 30px;\n  height: 30px;\n  font-size: 12px;\n}\n.list-view .singers-wrapper .under-classified-wrapper .under-classified-item[data-v-36e82cfb] {\n  padding: 15px 0 15px 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.list-view .singers-wrapper .under-classified-wrapper .under-classified-item .avatar[data-v-36e82cfb] {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n}\n.list-view .singers-wrapper .under-classified-wrapper .under-classified-item span[data-v-36e82cfb] {\n  color: rgba(255,255,255,0.5);\n  font-size: 14px;\n  margin-left: 20px;\n}\n.list-view .initials-navigation[data-v-36e82cfb] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 5px 2px;\n  background-color: rgba(0,0,0,0.3);\n  z-index: 9;\n}\n.list-view .initials-navigation li[data-v-36e82cfb] {\n  height: 14px;\n  line-height: 14px;\n  padding: 1px 3px;\n  font-size: 10px;\n  color: rgba(255,255,255,0.5);\n}\n.list-view .initials-navigation li.showcurrent[data-v-36e82cfb] {\n  color: #ffcd32;\n}\n.list-view .classified-fixed-title[data-v-36e82cfb] {\n  position: fixed;\n  top: 90px;\n  left: 0;\n  width: 100%;\n  padding-left: 20px;\n  background-color: #174;\n  color: #ffcd32;\n  line-height: 30px;\n  height: 30px;\n  font-size: 12px;\n}\n.list-view .loading-wrapper[data-v-36e82cfb] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}"],sourceRoot:""}])},593:function(i,e,t){e=i.exports=t(549)(!0),e.push([i.i,".singer[data-v-4b8ff140]{position:fixed;width:100%;top:90px;bottom:0}","",{version:3,sources:["C:/vue-music/vue-music/src/components/singer/singer.vue"],names:[],mappings:"AACA,yBACE,eAAgB,AAChB,WAAY,AACZ,SAAU,AACV,QAAU,CACX",file:"singer.vue",sourcesContent:["\n.singer[data-v-4b8ff140] {\n  position: fixed;\n  width: 100%;\n  top: 90px;\n  bottom: 0;\n}"],sourceRoot:""}])},604:function(i,e,t){var n=t(592);"string"==typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);t(550)("7ade8c30",n,!0)},605:function(i,e,t){var n=t(593);"string"==typeof n&&(n=[[i.i,n,""]]),n.locals&&(i.exports=n.locals);t(550)("c6378d12",n,!0)},612:function(i,e,t){function n(i){t(604)}var s=t(10)(t(576),t(617),n,"data-v-36e82cfb",null);i.exports=s.exports},617:function(i,e){i.exports={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("scroll",{ref:"listview",staticClass:"list-view",attrs:{data:i.data,probeType:i.probeType},on:{scroll:i.scroll}},[t("ul",{staticClass:"singers-wrapper"},i._l(i.data,function(e){return t("li",{ref:"includeClassified",refInFor:!0},[t("h2",{staticClass:"classified-title"},[i._v(" "+i._s(e.title))]),i._v(" "),t("ul",{staticClass:"under-classified-wrapper"},i._l(e.items,function(e){return t("li",{staticClass:"under-classified-item",on:{click:function(t){i.chooseItem(e)}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar",attrs:{alt:e.name}}),i._v(" "),t("span",[i._v(i._s(e.name))])])}))])})),i._v(" "),t("ul",{staticClass:"initials-navigation",on:{touchstart:i.toInitialsSingers,touchmove:function(e){e.stopPropagation(),e.preventDefault(),i.moveToInitialsSingers(e)}}},i._l(i.singerInitials,function(e,n){return t("li",{class:{showcurrent:i.currentIndex===n},attrs:{"data-index":n}},[i._v("\n      "+i._s(e)+"\n    ")])})),i._v(" "),t("div",{ref:"classifiedFixedTitle",class:{"classified-fixed-title":i.scrollY<0}},[t("h2",[i._v(i._s(i.classifiedFixedTitle))])]),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!i.data.length,expression:"!data.length"}],staticClass:"loading-wrapper"},[t("loading")],1)])},staticRenderFns:[]}},618:function(i,e){i.exports={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{ref:"singer",staticClass:"singer"},[t("listview",{ref:"singerListView",attrs:{data:i.optimizedSingerList},on:{choose:i.chooseSinger}}),i._v(" "),t("router-view")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.65bac960a33800b7b78f.js.map